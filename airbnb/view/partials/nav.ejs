<nav class="bg-red-500 shadow-lg">
  <div class="max-w-7xl mx-auto px-6 py-4">
    <ul class="list-none flex items-center justify-between gap-8 font-medium text-white">

      <!-- Logo / Home -->
      <a href="/" class="flex items-center gap-2 hover:opacity-90 transition">
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
          <path
            d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z">
          </path>
        </svg>
        <li class="text-lg font-bold">Home</li>
      </a>

      <!-- Mobile menu button (visible on small screens) -->
      <div class="md:hidden">
        <button id="mobile-menu-button" aria-expanded="false" class="p-2 rounded-md hover:bg-red-600/20 focus:outline-none focus:ring-2 focus:ring-white">
          <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>

      <!-- Middle Navigation -->
      <div class="hidden md:flex items-center gap-6">
        <% if (isLoggedIn) { %>

          <% if (user && user.usertype === "user") { %>
            <a href="/Homes-list"
               class="flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-red-600 transition duration-200">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M3 12l2-3m0 0l7-4 7 4M5 9v10a1 1 0 001 1h12a1 1 0 001-1V9m-9 11l4-2m-9-10l4 2m0 0l4-2">
                </path>
              </svg>
              <li>Homes</li>
            </a>

            <a href="/Booking"
               class="flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-red-600 transition duration-200">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M8 7V3m8 4V3m-9 8h18M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z">
                </path>
              </svg>
              <li>Booking</li>
            </a>

            <a href="/favourite-list"
               class="flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-red-600 transition duration-200">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z">
                </path>
              </svg>
              <li>Favourite</li>
            </a>

          <% } else { %>

            <a href="/host/homes-list"
               class="flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-red-600 transition duration-200">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4">
                </path>
              </svg>
              <li>Homes-list</li>
            </a>

            <a href="/host/add-home"
               class="flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-red-600 transition duration-200">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M3 9.75L12 4l9 5.75V19a1 1 0 01-1 1h-5v-5H9v5H4a1 1 0 01-1-1V9.75z"></path>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M12 11v6M15 14H9"></path>
              </svg>
              <li>Add-home</li>
            </a>

          <% } %>
        <% } %>
      </div>

      <!-- Right Side Auth -->
      <div class="hidden md:flex items-center gap-4">
        <% if (isLoggedIn) { %>
          <form action="/logout" method="POST">
            <button
              type="submit"
              class="flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-red-600 transition duration-200 font-semibold">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1">
                </path>
              </svg>
              Logout
            </button>
          </form>
        <% } else { %>
          <a href="/login" class="px-4 py-2">Login</a>
          <a href="/signup" class="px-4 py-2">Sign Up</a>
        <% } %>
      </div>

    </ul>


<!-- Mobile menu -->
<div id="mobile-menu" class="md:hidden hidden px-4 pb-4">
  <div class="bg-red-100 border border-red-200 rounded-md shadow-sm p-3 mt-2 space-y-2">

    <% if (isLoggedIn) { %>

      <% if (user && user.usertype === "user") { %>

        <!-- Homes list -->
        <a href="/Homes-list" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-black/5">
          <svg class="w-5 h-5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M3 12l9-8 9 8"/>
            <path d="M5 10v10h14V10"/>
          </svg>
          <span>Homes-list</span>
        </a>

        <!-- Booking -->
        <a href="/Booking" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-black/5">
          <svg class="w-5 h-5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="4" width="18" height="18" rx="2"/>
            <line x1="16" y1="2" x2="16" y2="6"/>
            <line x1="8" y1="2" x2="8" y2="6"/>
            <line x1="3" y1="10" x2="21" y2="10"/>
          </svg>
          <span>Booking</span>
        </a>

        <!-- Favourite -->
        <a href="/favourite-list" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-black/5">
          <svg class="w-5 h-5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M20.8 4.6a5.5 5.5 0 00-7.8 0L12 5.6l-1-1a5.5 5.5 0 00-7.8 7.8l1 1L12 21l7.8-7.6 1-1a5.5 5.5 0 000-7.8z"/>
          </svg>
          <span>Favourite</span>
        </a>

      <% } else { %>

        <!-- Host homes list -->
        <a href="/host/homes-list" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-black/5">
          <svg class="w-5 h-5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
           
            <path 
                  d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4">
                </path>
          </svg>
          <span>Homes-list</span>
        </a>

        <!-- Add home -->
        <a href="/host/add-home" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-black/5">
          <svg class="w-5 h-5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M3 12l9-8 9 8"/>
            <path d="M5 10v10h14V10"/>
            <line x1="12" y1="14" x2="12" y2="20"/>
            <line x1="9" y1="17" x2="15" y2="17"/>
          </svg>
          <span>Add-home</span>
        </a>

      <% } %>

      <!-- Logout -->
      <form action="/logout" method="POST">
        <button type="submit" class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-black/5">
          <svg class="w-5 h-5 shrink-0" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/>
            <polyline points="16 17 21 12 16 7"/>
            <line x1="21" y1="12" x2="9" y2="12"/>
          </svg>
          <span>Logout</span>
        </button>
      </form>

    <% } else { %>

      <a href="/login" class="block px-3 py-2 rounded-lg hover:bg-black/5">Login</a>
      <a href="/signup" class="block px-3 py-2 rounded-lg hover:bg-black/5">Sign Up</a>

    <% } %>

  </div>
</div>







  </div>
</nav>

<script>
  (function(){
    const btn = document.getElementById('mobile-menu-button');
    const menu = document.getElementById('mobile-menu');
    if (!btn || !menu) return;
    btn.addEventListener('click', function(e){
      e.stopPropagation();
      menu.classList.toggle('hidden');
      const expanded = !menu.classList.contains('hidden');
      btn.setAttribute('aria-expanded', expanded);
    });
    // close on outside click
    document.addEventListener('click', function(e){
      if (!menu.classList.contains('hidden') && !menu.contains(e.target) && !btn.contains(e.target)) {
        menu.classList.add('hidden');
        btn.setAttribute('aria-expanded', false);
      }
    });
  })();
</script>
